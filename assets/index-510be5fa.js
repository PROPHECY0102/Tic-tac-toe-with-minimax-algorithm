(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();const u="/Tic-tac-toe-with-minimax-algorithm/assets/x-83a29ddd.png",d="/Tic-tac-toe-with-minimax-algorithm/assets/o-85e1387d.png";function q(e,t){return e.querySelector(`.${t}`)!==null}function U(e,t){return e.querySelector(`#${t}`)!==null}const F={area1:null,area2:null,area3:null,area4:null,area5:null,area6:null,area7:null,area8:null,area9:null},o={playerActive:null,botActive:null,currentStatus:{hasWon:!1,active:null},allAreas:["area1","area2","area3","area4","area5","area6","area7","area8","area9"],area1:null,area2:null,area3:null,area4:null,area5:null,area6:null,area7:null,area8:null,area9:null,setActiveIcon(){this.botActive=r.botActive,this.playerActive=this.botActive==="x"?"o":"x"}},Y={pattern1:["area1","area2","area3"],pattern2:["area1","area4","area7"],pattern3:["area1","area5","area9"],pattern4:["area2","area5","area8"],pattern5:["area3","area6","area9"],pattern6:["area4","area5","area6"],pattern7:["area7","area8","area9"],pattern8:["area7","area5","area3"]},r={currentActive:"x",mode:null,playerActive:null,botActive:null,difficulty:"easy",xScore:0,oScore:0,playerScore:0,botScore:0,areasObject:F,patterns:Y,state:"resolved",currentStatus:{hasWon:!1,lineID:null,currentActive:null},newCurrentActive(){const e=Math.random();this.currentActive=e>=.5?"x":"o"},setActiveIcon(e){this.playerActive=e,this.botActive=this.playerActive==="x"?"o":"x"},swapPlayer(){this.currentActive=this.currentActive==="x"?"o":"x"},getIcon(){return this.currentActive==="x"?u:d},checkWinner(){let e,t,i;for(const n in this.patterns)if(e=this.areasObject[this.patterns[n][0]],t=this.areasObject[this.patterns[n][1]],i=this.areasObject[this.patterns[n][2]],this.checkMatches("x",n,[e,t,i]),this.currentStatus.hasWon==!0||(this.checkMatches("o",n,[e,t,i]),this.currentStatus.hasWon==!0))break;return this.incrementPoint(),this.currentStatus},checkMatches(e,t,[i,n,a]){if(i===e&&n===e&&a===e){let c=[];this.patterns[t].forEach(H=>{c.push(H.slice(-1))});const f=c.join("");this.currentStatus.hasWon=!0,this.currentStatus.lineID=f,this.currentStatus.currentActive=e;return}this.currentStatus.hasWon=!1,this.currentStatus.lineID=null,this.currentStatus.currentActive=null},incrementPoint(){this.mode==="player"&&this.incrementVsPlayer(),this.mode==="bot"&&this.incrementVsBot()},incrementVsPlayer(){this.currentStatus.currentActive==="x"&&this.xScore++,this.currentStatus.currentActive==="o"&&this.oScore++},incrementVsBot(){this.currentStatus.currentActive===this.playerActive&&this.playerScore++,this.currentStatus.currentActive===this.botActive&&this.botScore++},botChoosesMove(){return this.difficulty==="easy"?this.easyBot():this.hardBot()},easyBot(e=1){if(e<10){const i=`area${Math.floor(Math.random()*9)+1}`;return this.areasObject[i]==="x"||this.areasObject[i]==="o"?(e++,this.easyBot(e)):i}},hardBot(){for(const n in this.areasObject)o[n]=this.areasObject[n];o.setActiveIcon();let e=-1/0,t;return o.allAreas.filter(n=>{if(!o[n])return n}).forEach(n=>{o[n]=o.botActive;let a=this.minimax(!1,0);a>e&&(e=a,t=n),o[n]=null}),t},minimax(e,t){if(r.simulateCheckWinner(),o.currentStatus.active===o.botActive)return 10;if(o.currentStatus.active===o.playerActive)return-10;const i=o.allAreas.filter(n=>{if(!o[n])return n});if(i.length===0)return 0;if(e){let n=-1/0;return i.forEach(a=>{o[a]=o.botActive;let c=this.minimax(!1,t+1);c>n&&(n=c),o[a]=null}),n}if(!e){let n=1/0;return i.forEach(a=>{o[a]=o.playerActive;let c=this.minimax(!0,t+1);c<n&&(n=c),o[a]=null}),n}},simulateCheckWinner(){let e,t,i;for(const n in this.patterns)if(e=o[this.patterns[n][0]],t=o[this.patterns[n][1]],i=o[this.patterns[n][2]],this.simulatedCheckMatches(o.botActive,[e,t,i]),o.currentStatus.hasWon||(this.simulatedCheckMatches(o.playerActive,[e,t,i]),o.currentStatus.hasWon))break;return o.currentStatus},simulatedCheckMatches(e,[t,i,n]){if(t===e&&i===e&&n===e){o.currentStatus.hasWon=!0,o.currentStatus.active=e;return}o.currentStatus.hasWon=!1,o.currentStatus.active=null},resetArea(){for(const e in this.areasObject)this.areasObject[e]=null},resetScore(){this.xScore=0,this.oScore=0,this.playerScore=0,this.botScore=0}},K="/Tic-tac-toe-with-minimax-algorithm/assets/github-3d8d885d.png",J="/Tic-tac-toe-with-minimax-algorithm/assets/twitter-e4955796.png",Q=document.querySelector(".github-icon"),X=document.querySelector(".twitter-icon");Q.setAttribute("src",K);X.setAttribute("src",J);const Z=document.querySelectorAll(".close"),m=document.querySelector(".overlay"),A=document.querySelector(".modal"),_=document.querySelectorAll(".modal-content");function z(){Z.forEach(e=>{e.addEventListener("click",()=>{S()})})}function S(){m.hasAttribute("data-visible")&&(m.toggleAttribute("data-visible"),A.toggleAttribute("data-visible"),_.forEach(e=>{e.hasAttribute("data-visible")&&e.toggleAttribute("data-visible")}))}const T=document.querySelectorAll(".area");function ee(){let e="x";T.forEach(t=>{const i=document.createElement("div");i.classList.add("occupied"),i.setAttribute("data-player",e),t.appendChild(i),e=e==="x"?"o":"x"}),g()}function g(){document.querySelectorAll(".occupied").forEach(t=>{const n=t.getAttribute("data-player")==="x"?u:d;if(!q(t,"active-icon")){const a=document.createElement("img");a.classList.add("active-icon"),a.setAttribute("src",n),t.append(a)}})}const te=document.querySelector(".new-game"),re=document.querySelectorAll(".vs-player"),ie=document.querySelectorAll(".vs-bots");function ne(){ae(),oe(),ce(),z(),Ce(),Le()}function ae(){te.addEventListener("click",()=>{window.location.reload()})}function oe(){re.forEach(e=>{e.addEventListener("click",se)})}function ce(){ie.forEach(e=>{e.addEventListener("click",ue)})}function se(){r.mode="player",r.state="resolved",r.newCurrentActive(),w()}function ue(){r.mode="bot",r.state="resolved",r.newCurrentActive(),he()}const le=document.querySelector(".choice-container"),de=document.querySelector(".x-choice"),fe=document.querySelector(".o-choice");function he(){m.toggleAttribute("data-visible"),A.toggleAttribute("data-visible"),le.toggleAttribute("data-visible"),me()}function me(){[de,fe].forEach(t=>{t.addEventListener("click",()=>{const i=t.getAttribute("data-player");r.setActiveIcon(i),S(),ye()})})}const be=document.querySelector(".difficulty-container"),ve=document.querySelector(".easy"),pe=document.querySelector(".hard");function ye(){m.toggleAttribute("data-visible"),A.toggleAttribute("data-visible"),be.toggleAttribute("data-visible"),Ae()}function Ae(){[ve,pe].forEach(t=>{t.addEventListener("click",()=>{r.difficulty=t.getAttribute("data-difficulty"),S(),w()})})}const Se=document.querySelector(".coinflip-container"),h=document.querySelector(".coinflip-animation"),E=document.querySelector(".coinflip-result");function w(){m.toggleAttribute("data-visible"),A.toggleAttribute("data-visible"),Se.toggleAttribute("data-visible"),ge(r.currentActive)}function ge(e){let i=u,n=0;E.innerText="...",h.hasAttribute("data-no-animation")&&h.toggleAttribute("data-no-animation");const a=setInterval(()=>{if(i=i===u?d:u,h.setAttribute("src",i),n++,n>=10){clearInterval(a);const c=e==="x"?u:d;h.setAttribute("src",c),h.toggleAttribute("data-no-animation"),xe(e),setTimeout(()=>{S(),Ve()},1e3)}},300)}function xe(e){E.setAttribute("data-player",e),E.innerText=`${e.toUpperCase()}-player's turn first`}const b=document.querySelector(".new-game-options"),Ee=document.querySelector(".menu-sub-header"),v=document.querySelector(".scoreboard-display"),k=document.querySelector(".image-left"),M=document.querySelector(".image-right"),p=document.querySelector(".score-left"),y=document.querySelector(".score-right"),s=document.querySelector(".condition-text"),qe=document.querySelector(".new-round"),Te=document.querySelector(".reset-button"),O=document.querySelectorAll(".user");function we(){b.hasAttribute("data-visible")&&b.toggleAttribute("data-visible")}function Ie(){b.hasAttribute("data-visible")||b.toggleAttribute("data-visible")}function Ce(){qe.addEventListener("click",()=>{s.innerText="...",s.removeAttribute("data-player"),r.newCurrentActive(),w()})}function Le(){Te.addEventListener("click",()=>{$e(),r.state="resolved",r.resetArea(),r.resetScore(),r.newCurrentActive(),l.innerText="Select a mode...",B("Start a New Game of Tic Tac Toe?"),s.innerText="...",l.setAttribute("data-player","x"),x.removeAttribute("data-player"),P(),g(),R()})}function ke(){v.hasAttribute("data-visible")||v.toggleAttribute("data-visible"),B(Oe()),r.mode==="bot"?(We(),Be()):W(),D()}function Me(){v.hasAttribute("data-visible")&&v.toggleAttribute("data-visible")}function B(e){Ee.innerText=e}function Oe(){return r.mode==="player"?"Scoreboard - Vs Player Mode":`Scoreboard - Vs AI ${r.difficulty==="easy"?"Easy":"Hard"} Mode`}function Be(){r.playerActive==="o"?(k.setAttribute("src",d),M.setAttribute("src",u),p.setAttribute("data-icon","o"),y.setAttribute("data-icon","x")):W()}function We(){O.forEach(e=>{e.removeAttribute("data-hidden")})}function W(){k.setAttribute("src",u),M.setAttribute("src",d),p.removeAttribute("data-icon"),y.removeAttribute("data-icon"),r.mode==="player"&&O.forEach(e=>{e.setAttribute("data-hidden","")})}function D(){r.mode==="player"?(p.innerText=r.xScore,y.innerText=r.oScore):(p.innerText=r.playerScore,y.innerText=r.botScore)}function De(e){if(r.mode==="player"){Pe(e);return}je(e)}function Pe(e){s.innerText=`${e.toUpperCase()}'s has Won 🎉`,s.setAttribute("data-player",e)}function je(e){if(e===r.playerActive){s.setAttribute("data-player",e),s.innerText="You've Won 🎉";return}s.setAttribute("data-player",r.botActive),s.innerText="You've Lost 😔"}const l=document.querySelector(".turn-message"),x=document.querySelector(".game");function Ge(){we(),ke()}function $e(){Ie(),Me()}function I(){l.setAttribute("data-player",r.currentActive),l.innerText=`${r.currentActive.toUpperCase()}-player's turn`}function P(){document.querySelectorAll(".occupied").forEach(t=>{t.remove()})}function Ve(){r.state="playing",r.resetArea(),R(),P(),Ge(),I(),setTimeout(()=>{r.mode==="bot"&&j()},10),x.setAttribute("data-player",r.currentActive),T.forEach(e=>{e.addEventListener("click",G),e.addEventListener("pointerenter",$),e.addEventListener("pointerleave",C)})}function j(){if(r.botActive===r.currentActive){const e=r.botChoosesMove();r.areasObject[e]=r.currentActive;const t=document.querySelector(`.area-${e.slice(-1)}`),i=document.createElement("div");i.classList.add("occupied"),i.setAttribute("data-player",r.currentActive),t.appendChild(i),g(),r.swapPlayer(),I(),V(r.checkWinner())}}function G(){if(!q(this,"occupied")&&r.state==="playing"){C();const e=`area${this.getAttribute("id").slice(-1)}`;r.areasObject[e]=r.currentActive;const t=document.createElement("div");t.classList.add("occupied"),t.setAttribute("data-player",r.currentActive),this.appendChild(t),g(),r.swapPlayer(),I(),V(r.checkWinner())}}function $(){if(!q(this,"occupied")&&r.state==="playing"){const e=document.createElement("img"),t=r.getIcon();e.setAttribute("src",t),e.classList.add("active-icon"),e.setAttribute("id","hover"),this.appendChild(e)}}function C(){U(document.body,"hover")&&document.querySelector("#hover").remove()}function V(e){if(e.hasWon===!1)return Ne(),!1;Ue(e.lineID,e.currentActive),N(!1,e.currentActive)}function Ne(){let e=0;for(const t in r.areasObject)r.areasObject[t]!==null&&e++;if(e>8){N(!0,r.currentActive);return}Re()}function Re(){x.setAttribute("data-player",r.currentActive),r.mode==="bot"&&j()}function N(e,t){e?(l.innerText="It's a TIE",s.innerText="TIED 🙃"):(l.innerText=`${t.toUpperCase()}'s has Won`,De(t)),D(),r.state="resolved",x.setAttribute("data-player",t),l.setAttribute("data-player",t),T.forEach(i=>{i.removeEventListener("click",G),i.removeEventListener("pointerenter",$),i.removeEventListener("pointerleave",C)})}const He=document.querySelectorAll(".line");function R(){He.forEach(e=>{e.removeAttribute("data-visible"),e.removeAttribute("data-drawn")})}function Ue(e,t){const i=document.querySelector(`.line-${e}`);i.toggleAttribute("data-visible"),i.setAttribute("data-player",t),setTimeout(()=>{i.toggleAttribute("data-drawn")},10)}const L=document.querySelector(".footer");function Fe(){L.toggleAttribute("data-visible"),setTimeout(()=>{L.toggleAttribute("data-visible")},5e3)}function Ye(){ee(),ne(),Fe()}Ye();
